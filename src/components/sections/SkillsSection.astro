---
import Carousel from '../ui/carousel/Carousel.astro';
import { logos } from '../../data/logos';
interface SkillItem {
  icon: string;
  title: string;
  description: string;
}

interface Props {
  title?: string;
  skills: SkillItem[];
}

const { title, skills } = Astro.props as Props;
---

<section class="w-full py-6 sm:py-8 lg:py-12">
  <div class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8">
    {title && (
      <h2 class="text-2xl sm:text-3xl lg:text-4xl font-semibold text-center mb-6 sm:mb-8 lg:mb-10 text-foreground break-words">
        {title}
      </h2>
    )}
  
    {/* Carousel Section */}
    <div class="mb-6 sm:mb-8 lg:mb-10">
      <Carousel tools={logos} />
    </div>
    

    {/* Skills Grid */}
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2 gap-4 sm:gap-6 lg:gap-8 max-w-5xl mx-auto">
      {skills.map((skill, index) => (
        <div 
          class="card-surface p-4 sm:p-5 lg:p-6 group transition-all duration-300 hover:-translate-y-1 hover:elevate-lg w-full min-w-0"
        >
          <div class="flex flex-col items-center text-center w-full min-w-0">
            {/* Icon Container */}
            <div 
              class="mb-3 sm:mb-4 rounded-xl size-10 sm:size-12 flex items-center justify-center text-[var(--accent)] opacity-90 transition-all duration-300 will-change-transform group-hover:scale-110 group-hover:opacity-100 [&>svg]:w-5 [&>svg]:h-5 sm:[&>svg]:w-6 sm:[&>svg]:h-6 flex-shrink-0" 
              style="background: rgba(var(--accent-rgb),0.08);" 
              set:html={skill.icon} 
            />
            
            {/* Title */}
            <h3 class="text-lg sm:text-xl lg:text-xl font-semibold text-foreground mb-2 sm:mb-3 break-words w-full">
              {skill.title}
            </h3>
            
            {/* Description */}
            <p class="text-sm sm:text-base text-[color:var(--color-text-muted)] leading-relaxed sm:leading-normal break-words w-full max-w-full">
              {skill.description}
            </p>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  /* Ensure text never overflows */
  .break-words {
    word-wrap: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
  }
  
  /* Mobile optimizations */
  @media (max-width: 640px) {
    .card-surface {
      border-radius: 0.75rem;
    }
  }
  
  /* Prevent layout shifts */
  .min-w-0 {
    min-width: 0;
  }
</style>